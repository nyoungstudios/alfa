[common.test]

assert-install-names = ["install_binary"]

[[common.test.commands]]

command = "bash"
arguments = [
  "-ceu",
  "[[ -f /usr/local/bin/binary_name ]] && echo exists || echo missing",
]
assert-stdout-equals = "exists"

[[common.test.commands]]

command = "bash"
arguments = ["-ceu", "/usr/local/bin/binary_name --help"]
assert-stdout-contains = "Usage: binary_name"

[case.linux-x86]
os = "ubuntu-22.04"
image = "phusion/baseimage:jammy-1.0.4"

[case.linux-arm]
os = "ubuntu-22.04"
image = "phusion/baseimage:jammy-1.0.4"
platform = "linux/arm64"

[case.macos-arm]
os = "macos-14"

[case.macos-x86]
os = "macos-13"
