[common]

setup-tag = "setup"

[case.default]
os = "ubuntu-24.04"
image = "phusion/baseimage:noble-1.0.2"

[case.default.test]

assert-install-names = ["apt_get_packages", "brew", "run_command", "brew_packages"]

[[case.default.test.commands]]

command = "bash"
arguments = [
  "-ceu",
  "eval \"$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)\" && jq"
]
assert-stdout-contains = "jq - commandline JSON processor"

[[case.default.test.commands]]

command = "bash"
arguments = [
  "-ceu",
  "eval \"$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)\" && rg --help"
]
assert-stdout-contains = "ripgrep (rg) recursively searches the current directory"
